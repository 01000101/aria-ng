{
  "nodes": [
    {
      "id": "node_cellar_EB2669F1D813DA1B0EC4D8C412EC3A2E", 
      "template_name": "node_cellar", 
      "interfaces": [
        {
          "name": "standard", 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create"
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "app_endpoint", 
          "type_name": "tosca.capabilities.Endpoint", 
          "properties": {
            "protocol": "udp", 
            "url_path": "/nodecellar", 
            "secure": false, 
            "network_name": "PRIVATE", 
            "initiator": "source"
          }
        }
      ], 
      "relationships": [
        {
          "target_node_id": "nodejs_D4D4AE220F1993E807A44019CA11E935", 
          "target_capability_name": "host", 
          "type_name": "tosca.relationships.HostedOn"
        }
      ]
    }, 
    {
      "id": "node_cellar_database_40C253B41E9C47D881B4C88AD721D555", 
      "template_name": "node_cellar_database", 
      "properties": {
        "name": "node_cellar"
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "mongodb/create_and_import_database.sh", 
              "dependencies": [
                "mongodb/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "database_endpoint", 
          "type_name": "tosca.capabilities.Endpoint.Database"
        }
      ], 
      "relationships": [
        {
          "target_node_id": "mongodb_6F6D6E16E88A0F8AEEE4E5083E4BF8BE", 
          "target_capability_name": "host", 
          "type_name": "tosca.relationships.HostedOn"
        }
      ]
    }, 
    {
      "id": "nodejs_D4D4AE220F1993E807A44019CA11E935", 
      "template_name": "nodejs", 
      "interfaces": [
        {
          "name": "standard", 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create"
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "data_endpoint", 
          "type_name": "tosca.capabilities.Endpoint"
        }, 
        {
          "name": "admin_endpoint", 
          "type_name": "tosca.capabilities.Endpoint.Admin"
        }, 
        {
          "name": "host", 
          "type_name": "tosca.capabilities.Container"
        }
      ], 
      "relationships": [
        {
          "target_node_id": "application_host_312793576E25675824141507D47F940F", 
          "target_capability_name": "feature", 
          "type_name": "tosca.relationships.HostedOn"
        }
      ]
    }, 
    {
      "id": "mongodb_6F6D6E16E88A0F8AEEE4E5083E4BF8BE", 
      "template_name": "mongodb", 
      "properties": {
        "root_password": "admin", 
        "port": 27017
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create"
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "host", 
          "type_name": "tosca.capabilities.Container"
        }
      ], 
      "relationships": [
        {
          "target_node_id": "data_host_30C4F1BD17AB2F187E749530B035F740", 
          "target_capability_name": "host", 
          "type_name": "tosca.relationships.HostedOn"
        }
      ]
    }, 
    {
      "id": "loadbalancer_BF4A14C1DC9BC51825245F7D3491E061", 
      "template_name": "loadbalancer", 
      "properties": {
        "algorithm": "round-robin"
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create"
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "client", 
          "type_name": "tosca.capabilities.Endpoint.Public"
        }
      ], 
      "relationships": [
        {
          "target_node_id": "loadbalancer_host_16EF41E04A222FB8F8D40D0367D495FF", 
          "target_capability_name": "feature", 
          "type_name": "tosca.relationships.HostedOn"
        }
      ]
    }, 
    {
      "id": "loadbalancer_host_16EF41E04A222FB8F8D40D0367D495FF", 
      "template_name": "loadbalancer_host", 
      "properties": {
        "flavor_name": "m1.small", 
        "os_users": {
          "root": {
            "password": "admin123"
          }, 
          "nodejs": {
            "password": "nodejs123", 
            "groups": [
              "www-data"
            ]
          }
        }, 
        "image_id": "5d62e82c-924e-4fa9-b1e4-c133867596f7"
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "inputs": {
            "openstack_credential": {
              "user": "openstackadmin", 
              "token": "openstack123", 
              "token_type": "password"
            }
          }, 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "openstack/create_instance.sh", 
              "dependencies": [
                "openstack/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "host", 
          "type_name": "tosca.capabilities.Container"
        }, 
        {
          "name": "binding", 
          "type_name": "tosca.capabilities.network.Bindable"
        }, 
        {
          "name": "os", 
          "type_name": "tosca.capabilities.OperatingSystem"
        }, 
        {
          "name": "scalable", 
          "type_name": "tosca.capabilities.Scalable"
        }
      ]
    }, 
    {
      "id": "application_host_312793576E25675824141507D47F940F", 
      "template_name": "application_host", 
      "properties": {
        "flavor_name": "m1.small", 
        "os_users": {
          "root": {
            "password": "admin123"
          }, 
          "nodejs": {
            "password": "nodejs123", 
            "groups": [
              "www-data"
            ]
          }
        }, 
        "image_id": "5d62e82c-924e-4fa9-b1e4-c133867596f7"
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "inputs": {
            "openstack_credential": {
              "user": "openstackadmin", 
              "token": "openstack123", 
              "token_type": "password"
            }
          }, 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "openstack/create_instance.sh", 
              "dependencies": [
                "openstack/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "host", 
          "type_name": "tosca.capabilities.Container"
        }, 
        {
          "name": "binding", 
          "type_name": "tosca.capabilities.network.Bindable"
        }, 
        {
          "name": "os", 
          "type_name": "tosca.capabilities.OperatingSystem"
        }, 
        {
          "name": "scalable", 
          "type_name": "tosca.capabilities.Scalable", 
          "properties": {
            "max_instances": 10, 
            "min_instances": 1
          }
        }
      ]
    }, 
    {
      "id": "data_host_30C4F1BD17AB2F187E749530B035F740", 
      "template_name": "data_host", 
      "properties": {
        "flavor_name": "m1.large", 
        "flavor_id": "5d62e82c-924e-4fa9-b1e4-c133867596f7", 
        "os_users": {
          "root": {
            "password": "admin123"
          }, 
          "mongodb": {
            "password": "mongo123"
          }
        }, 
        "image_id": "5d62e82c-924e-4fa9-b1e4-c133867596f7"
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "inputs": {
            "openstack_credential": {
              "user": "openstackadmin", 
              "token": "openstack123", 
              "token_type": "password"
            }
          }, 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "openstack/create_instance.sh", 
              "dependencies": [
                "openstack/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "host", 
          "type_name": "tosca.capabilities.Container"
        }, 
        {
          "name": "binding", 
          "type_name": "tosca.capabilities.network.Bindable"
        }, 
        {
          "name": "os", 
          "type_name": "tosca.capabilities.OperatingSystem"
        }, 
        {
          "name": "scalable", 
          "type_name": "tosca.capabilities.Scalable", 
          "properties": {
            "max_instances": 10, 
            "min_instances": 1
          }
        }
      ], 
      "relationships": [
        {
          "target_node_id": "data_volume_8221E453D5447C1B1264E61BCE5B5DC7", 
          "target_capability_name": "feature", 
          "type_name": "tosca.relationships.AttachesTo", 
          "properties": {
            "location": "/mnt/volumem1.large"
          }
        }
      ]
    }, 
    {
      "id": "data_volume_8221E453D5447C1B1264E61BCE5B5DC7", 
      "template_name": "data_volume", 
      "properties": {
        "size": 10000000000, 
        "multiattach": false
      }, 
      "interfaces": [
        {
          "name": "standard", 
          "inputs": {
            "openstack_credential": {
              "user": "openstackadmin", 
              "token": "openstack123", 
              "token_type": "password"
            }
          }, 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "openstack/create_volume.sh", 
              "dependencies": [
                "openstack/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "capabilities": [
        {
          "name": "feature", 
          "type_name": "tosca.capabilities.Node"
        }, 
        {
          "name": "attachment", 
          "type_name": "tosca.capabilities.Attachment"
        }
      ]
    }
  ], 
  "groups": [
    {
      "name": "node_cellar_group", 
      "type_name": "openstack.Secured", 
      "interfaces": [
        {
          "name": "standard", 
          "inputs": {
            "openstack_credential": {
              "user": "openstackadmin", 
              "token": "openstack123", 
              "token_type": "password"
            }
          }, 
          "operations": {
            "start": {
              "name": "start"
            }, 
            "create": {
              "name": "create", 
              "implementation": "openstack/create_secured_group.sh", 
              "dependencies": [
                "openstack/utils/api.sh", 
                "utils/os.sh"
              ]
            }, 
            "stop": {
              "name": "stop"
            }, 
            "configure": {
              "name": "configure"
            }, 
            "delete": {
              "name": "delete"
            }
          }
        }
      ], 
      "member_node_ids": [
        "loadbalancer_BF4A14C1DC9BC51825245F7D3491E061", 
        "application_host_312793576E25675824141507D47F940F", 
        "data_host_30C4F1BD17AB2F187E749530B035F740"
      ]
    }
  ], 
  "inputs": {
    "openstack_credential": {
      "user": "openstackadmin", 
      "token": "openstack123", 
      "token_type": "password"
    }
  }
}
